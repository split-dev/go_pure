<div class="social bg-center lazyload"
     data-bgset="{%- render 'bgset', image: section.settings.img -%}">
  <div class="container">
    <div class="d-flex flex-column align-items-center">
      {%- if section.settings.icon != blank -%}
        <img class="lazyload mx-auto mb-3"
             data-src="{{ section.settings.icon | img_url: 'master' }}" alt="{{ section.settings.icon }}">
      {%- endif -%}
      <h2 class="text-35px text-light text-center mb-3">
        {{ section.settings.heading }}
      </h2>
      <div class="pt-1 mb-5 pb-sm-2 text-center text-light">
        {{ section.settings.text }}
      </div>
      <a class="btn btn-white d-block d-sm-inline-block mb-4" href="{{ section.settings.button_link }}">
        {{ section.settings.button_text }}
      </a>
      <p class="text-center text-light mb-2">{{ section.settings.small-text }}</p>
      <div class="social__links d-flex align-items-center mt-4">
        {%- assign socials = "Facebook Twitter Pinterest Instagram Tumblr Snapchat YouTube Vimeo" | split: ' ' -%}
        {%- for social in socials -%}
          {%- assign social_link = social | prepend: 'social_' | append: '_link' | downcase -%}
          {%- assign icon_link = social | prepend: 'icon-' | downcase -%}
          {%- if settings[social_link] != blank -%}
            <a href="{{ settings[social_link] | escape }}"
               target="_blank">
              {%- include icon_link -%}
            </a>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Social",
  "tag": "section",
  "settings": [
    {
    "type": "image_picker",
    "id": "img",
    "label": "Bg Image"
    },
    {
      "type": "image_picker",
      "id": "icon",
      "label": "Icon",
      "info": "Optional"
    },
    {
    "type": "text",
    "id": "heading",
    "label": "Heading"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text"
    },
    {
    "type": "text",
    "id": "button_text",
    "label": "Button Text"
    },
    {
    "type": "url",
    "id": "button_link",
    "label": "Button Link"
    },
    {
    "type": "text",
    "id": "small-text",
    "label": "Description"
    }
  ],
  "presets": [
    {
      "name": "Social",
      "category": "New"
    }
  ]
}
{% endschema %}